<ion-header>
	<ion-navbar>
		<ion-title>Gathered</ion-title>
	</ion-navbar>
</ion-header>

<ion-content padding>
	<div *ngIf="dashboard">
		<ion-card *ngIf="dashboard.ongoing_event"><!-- add ng-click here to check in to event -->
			<ion-card-content>
				<ion-card-header >ONGOING EVENT: {{dashboard.ongoing_event.group.name}}</ion-card-header>
				<ion-card-title *ngIf="dashboard.ongoing_event.name">{{dashboard.ongoing_event.name}}</ion-card-title>
				<p *ngIf="dashboard.ongoing_event.venue"><small><ion-icon name='pin' item-left color="danger"></ion-icon> {{dashboard.ongoing_event.venue.name}} - {{dashboard.ongoing_event.venue.address_1}}, {{dashboard.ongoing_event.venue.localized_country_name}}. </small></p>
				<hr>
				<p [innerHTML]="dashboard.ongoing_event.description"></p>
			</ion-card-content>
			<ion-item>
				<ion-badge item-right color="danger">{{dashboard.ongoing_event.time  | date: 'EEE, MMM d. HH:mma'}}</ion-badge>
			</ion-item>
			<ion-item>
				<button padding ion-button color="danger" (click)="openEvent(dashboard.ongoing_event.group.urlname, dashboard.ongoing_event.id)" full>VIEW EVENT</button>
			</ion-item>
		</ion-card>
		<ion-card *ngIf="dashboard.next_event">
			<ion-card-content>
				<ion-card-header *ngIf="dashboard.next_event.name">NEXT EVENT: {{dashboard.next_event.group.name}}</ion-card-header>
				<ion-card-title>{{dashboard.next_event.name}}</ion-card-title>
				<p *ngIf="dashboard.next_event.venue"><small><ion-icon name='pin' item-left color="danger"></ion-icon> {{dashboard.next_event.venue.name}} - {{dashboard.next_event.venue.address_1}}, {{dashboard.next_event.venue.localized_country_name}}. </small></p>
				<hr>
				<p [innerHTML]="dashboard.next_event.description"></p>
			</ion-card-content>
			<ion-item>
				<ion-badge item-right color="danger">{{dashboard.next_event.time  | date: 'EEE, MMM d. HH:mma'}}</ion-badge>
			</ion-item>
		</ion-card>
		<ion-card *ngIf="dashboard.last_event">
			<ion-card-content>
				<ion-card-header>LAST EVENT: {{dashboard.last_event.group.name}}</ion-card-header>
				<ion-card-title *ngIf="dashboard.last_event.name">{{dashboard.last_event.name}}</ion-card-title>
				<p *ngIf="dashboard.last_event.venue"><small><ion-icon name='pin' item-left color="danger"></ion-icon> {{dashboard.last_event.venue.name}} - {{dashboard.last_event.venue.address_1}}, {{dashboard.last_event.venue.localized_country_name}}. </small></p>
				<hr>
				<p [innerHTML]="dashboard.last_event.description"></p>
			</ion-card-content>
			<ion-item>
				<ion-badge item-right color="danger">{{dashboard.last_event.time | date: 'EEE, MMM d. HH:mma'}}</ion-badge>
			</ion-item>
			<ion-item>
				<button padding ion-button color="danger" (click)="openEvent(dashboard.last_event.group.urlname, dashboard.last_event.id)" full>VIEW EVENT</button>
			</ion-item>
		</ion-card>
	</div>
	<ion-spinner *ngIf="!dashboard" color="danger"></ion-spinner>
</ion-content>
